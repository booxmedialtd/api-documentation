openapi: 3.0.0
info:
  version: "1.0.0"
  title: "User recording"
tags:
- name: Recording Requests
  description: >-
    Recording requests are requests for us to record a specific program.
    They will be replaced with the new tag based recording system in due course.
- name: Recording Slots
  description: >-
    Recording slots are Broadcast Slots that are intended to be recorded
- name: Recordings
  description: >-
    Recordings are programs that the user has asked to be recorded and which have been marked by the media backend as having been completed
- name: Recording Groups
  description: >-
    Recording groups are arbitrary ways for users to group recordings.
- name: Legacy support
  description:
    These endpoints should be used with caution as they are used to support legacy use cases and are deprecated.
servers:
- url: 'https://demo.aminocom.com/api/recordings/v1/'
components:
  securitySchemes:
    bearerAuth:            # arbitrary name for the security scheme
      type: http
      scheme: bearer
      bearerFormat: JWT    # optional, arbitrary value for documentation purposes
security:
- bearerAuth: []         # use the same name as above
paths:

# ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# RECORDING SLOTS
# ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

  /recording_slots/{recording_slot_id}:

    patch:
      tags:
      - Recording Slots
      summary: Update the status of a recording slot.  Note that only the status field is acceptable to patch.
      operationId: putRecordingRequest
      parameters:
        - in: path
          name: recording_request_id
          description: The id of the recording request
          schema:
            type: string
          example: 24369947-8d46-4453-bdc2-9e1d88c220ff
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/RecordingSlotEntity.yml#/RecordingSlotEntity"
            example:
              status: "RECORDING_FAILED"
      responses:
        204:
          description: |
            The resource was updated successfully, no response body is needed

    delete:
      tags:
      - Recording Slots
      summary: Tell the API to delete a slot (see description for details)
      description: >-
        We expect this to only be called by recording devices.  Once a recording device has successfully removed the file relating to a recording
        it should call this endpoint to cause the API to delete the row.  The API should respond with a "400 Bad Request" error if this endpoint
        is called on a recording that is not in the soft-deleted state.  In other words, this API can only be used on recordings that the user has
        selected to be deleted.
      operationId: putRecordingRequest
      parameters:
        - in: path
          name: recording_request_id
          description: The id of the recording request
          schema:
            type: string
          example: 24369947-8d46-4453-bdc2-9e1d88c220ff
      responses:
        204:
          description: |
            The resource was deleted successfully, no response body is needed

# ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

  /{device_id}/recording_slots:
    get:
      summary: Return a list of recording slots that a device needs to make.
      tags:
      - Recording Slots
      operationId: indexRecordingSlots
      parameters:
      - in: path
        name: device_id
        description: The CDSN of the device to obtain recordings for.
        required: true
        schema:
          type: string
      - in: query
        name: filter
        required: false
        description: >
          The following fields are valid to be filtered on:  [window_seconds | status].
          The window_seconds paramter specifies how many seconds in the future to look for slots.  By default this is 3600
          Example usage:  /user/{user_id}/user_recordings?filter[window_seconds]=3600
          The status parameter can be used to show only records that are in DELETED state.  This should be used by recording
          devices to determine what recordings they should delete from their local storage.  We do not support filtering on
          other states and the API will return "400 Bad Request" if the client attempts to use a different status to filter on.
          Example: usage: /user/{user_id}/user_recordings?filter[status]=DELETED
        schema:
          type: string
      responses:
        '200':
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                required:
                - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      required:
                      - type
                      - id
                      properties:
                        type:
                          type: string
                          example: RecordingSlot
                        id:
                          type: string
                          example: ddbfa001-1de3-4210-bd3f-183e771db48d
                          description: >-
                            The id of the request entity
                        attributes:
                          $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/RecordingSlotEntity.yml#/RecordingSlotEntity"
        '400':
          description: Standard error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/General/ErrorEntity.yml#/Error"



# ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# RECORDING REQUESTS
# ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

  /user/{user_id}/user_recording_requests/:
    get:
      tags:
      - Recording Requests
      summary: Get an index of user recording request entities.  Requests are sorted by date ascending.
      operationId: indexRecordingRequests
      parameters:
        - in: path
          name: user_id
          description: The user id to obtain recordings for
          required: true
          schema:
            type: string
        - in: query
          name: page_number
          required: false
          description: >
            The page number (100 results per page) of results to retrieve.
            If this parameter is ommitted then it is assumed to be 1 (not zero based, 1 means the first page)
          schema:
            type: integer
        - in: query
          name: filter
          required: false
          description: >
            Example usage:  /user/{user_id}/user_recordings?filter[status]=WAITING
          schema:
            type: string
            enum: ["NEW","WAITING","RECORDING","FAILED","FAILED_PERMANENTLY","COMPLETE"]
      responses:
        '200':
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                required:
                - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      required:
                      - type
                      - id
                      properties:
                        type:
                          type: string
                          example: UserRecordingRequest
                        id:
                          type: string
                          example: 24369947-8d46-4453-bdc2-9e1d88c220ff
                          description: >-
                            The id of the request entity
                        attributes:
                          $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/UserRecordingRequestEntity.yml#/UserRecordingRequestEntity"
        '400':
          description: Standard error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/General/ErrorEntity.yml#/Error"
    post:
      tags:
      - Recording Requests
      summary: Request that a new recording is made
      description: Note that the example given is minimal, please inspect the model for full details.
      operationId: createRecordingRequest
      parameters:
        - in: path
          name: user_id
          required: true
          description: The identity of the user to schedule the recording for.
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/UserRecordingRequestEntity.yml#/UserRecordingRequestEntity"
            example:
              serial_recording:
                maximum_episodes_to_record: 10
                expire_timestamp: 1543839142
              relationships:
                - classification_tag:
                    matching_rules:
                      key: Program.title
                      operator: eq
                      value: Die Hard
                - user_recording_device:
                    type: cloud


      responses:
        201:
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                required:
                - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      required:
                      - type
                      - id
                      properties:
                        type:
                          type: string
                          example: UserRecordingRequest
                        id:
                          type: string
                          description: "The id of the entity that was created"
                          example: "c74e8b26-079c-4d01-95a2-da8fb6139179"
                        attributes:
                          $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/UserRecordingRequestEntity.yml#/UserRecordingRequestEntity"

# ---------------------------------------------------------------------------------------------------------------------------------

  /user_recording_requests/{recording_request_id}:
    get:
      tags:
      - Recording Requests
      summary: Obtain details of a particular user recording request
      operationId: getRecordingRequest
      parameters:
        - in: path
          name: recording_request_id
          description: The id of the recording request
          schema:
            type: string
          example: d9db7aca-bc54-410f-af0d-a286adc0911f
      responses:
        '200':
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                required:
                - data
                properties:
                  data:
                    type: object
                    required:
                    - type
                    - id
                    properties:
                      type:
                        type: string
                        example: UserRecordingRequest
                      id:
                        type: string
                        description: "The id of the entity being referenced"
                        example: "d9db7aca-bc54-410f-af0d-a286adc0911f"
                      attributes:
                        $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/UserRecordingRequestEntity.yml#/UserRecordingRequestEntity"
                  included:
                    type: array
                    items:
                      anyOf:
                        - type: object
                          properties:
                            type:
                              type: string
                              example: "RecordingSlot"
                              description: The type of the entity that is being included.
                            id:
                              type: string
                              example: ddbfa001-1de3-4210-bd3f-183e771db48d
                            attributes:
                                $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/RecordingSlotEntity.yml#/RecordingSlotEntity"
                        - type: object
                          properties:
                            type:
                              type: string
                              example: "ClassificationTag"
                              description: The type of the entity that is being included.
                            id:
                              type: string
                              example: abdf8785-cb23-445b-946f-69e8770500a1
                            attributes:
                                $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/EnrichedMetadata/ClassificationTagEntity.yml#/ClassificationTagEntity"
    delete:
      tags:
      - Recording Requests
      summary: Delete a recording request.  This will result in all future (incomplete) recordings being deleted, but existing recordings will remain.
      operationId: deleteUserRecordingRequest
      parameters:
        - in: path
          name: recording_request_id
          description: The id of the recording request
          schema:
            type: string
          example: cdf5b4f7-236c-4a3c-b848-9223ed816a0c

      responses:
        '204':
          description: |
            The resource was deleted successfully

# -------------------------------------------------------------------------------------------------------------------------------------------------
#  USER RECORDINGS
# ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

  /user/{user_id}/user_recordings/:
    get:
      tags:
      - Recordings
      summary: Get an index of user recording entities
      description:  >-
        NOTE:  This endpoint will *always* include [Program] relationships and DOES NOT support the `included` parameter.
        The default sort order is by time of broadcast descending.
      operationId: indexRecordings
      parameters:
        - in: path
          name: user_id
          description: The user id to obtain recordings for
          required: true
          schema:
            type: string
        - in: query
          name: page_number
          required: false
          description: >
            The page number (100 results per page) of results to retrieve.  If this parameter is ommitted then it is assumed to be 1 (not zero based, 1 means the first page)
          schema:
            type: integer
        - in: query
          name: filter
          schema:
            type: string
          required: false
          description: >
            Only the following filters are supported: [deleted|favourite|expiring]
            Example usage:  /user/{user_id}/user_recordings?filter[expiring]=X
            The value supplied is the number of days in the future that determines whether a record should be included in the result set.
            Only the following values are accepted [today|3|7|30] and if an invalid value is given a 400 error will be returned.
            We include all records from "now" up until the specified number of days after midnight "today".
            For example, if you make a request for three days of data to this endpoint at 10:08 on December 10th you should expect to
            receive recordings that expire later on the 10th December, as well as recordings from 11th, 12th, and 13th.
            The "deleted" filter is expected to be used only by recording devices.  The API will return a list of recordings that the device should remove from its
            storage as the user has requested that they be deleted.
        - in: query
          name: search
          required: false
          schema:
            type: string
          description: >
            The search parameter follows the same formatting as filter, in that square brackets are used in the parameter to indicate keys of an array.
            For example: To find recordings with the title "Die Hard", /user/{user_id}/user_recordings?filter[title]=Die,Hard
            Multiple words may be separated with commas, and they must appear in the field in the order presented in the CSV.  The words are treated logically
            as "AND", which means that if all of them appear in the field (in any order) then it will be considered a match.
            You may search on the following fields: [title|Program.description].  Note that searching on Program.description requires joining data across
            a component boundary and so is expensive.
        - in: query
          name: language
          schema:
            type: string
          required: false
          description: >-
            The PK of the language to use, which will be a 3 character ISO 639-2 string (e.g.: fin).
            If this is omitted the browser 'Accept-Language' will be used if it is available, and otherwise the system defined default.
            If the requested language is not available then the system will return translations in order of the system defined preferences
      responses:
        '200':
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                required:
                - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      required:
                      - type
                      - id
                      properties:
                        type:
                          type: string
                          example: UserRecording
                        id:
                          type: string
                          example: '1e9ef53e-582d-40cb-ac91-cb26c5bc3e02'
                        attributes:
                          $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/UserRecordingEntity.yml#/UserRecordingEntity"
                  included:
                    type: array
                    description: "This key MUST NOT be included if the `included` parameter is not used in the request URL"
                    items:
                      anyOf:
                      - type: object
                        description: "Note that different sorts of entity may be included (this array is not guaranteed to be homogenous), but the Swagger definition does not allow including more than one example of an item of an array so only one type is shown."
                        properties:
                          type:
                            type: string
                            example: "Program"
                            description: The type of the entity that is being included.
                          id:
                            type: string
                            example: "d0de0088-3141-439e-8455-839bdb8f6cec"
                          attributes:
                              $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/EnrichedMetadata/ProgramEntity.yml#/ProgramEntity"
                      - type: object
                        description: "Note that different sorts of entity may be included (this array is not guaranteed to be homogenous), but the Swagger definition does not allow including more than one example of an item of an array so only one type is shown."
                        properties:
                          type:
                            type: string
                            example: "RecordingRequest"
                            description: The type of the entity that is being included.
                          id:
                            type: string
                            example: "b63c666c-2a84-4f2d-a006-97f236912c77"
                      - type: object
                        description: "Note that different sorts of entity may be included (this array is not guaranteed to be homogenous), but the Swagger definition does not allow including more than one example of an item of an array so only one type is shown."
                        properties:
                          type:
                            type: string
                            example: "UserRecordingDevice"
                            description: The type of the entity that is being included.
                          id:
                            type: string
                            example: "d28558a8-588b-47e6-ac85-2bf653757c81"

        '400':
          description: Standard error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/General/ErrorEntity.yml#/Error"

# ------------------------------------------------------------------------------------------------------------------------------------------------

  /user_recordings/{user_recordings_id}:

    patch:
      tags:
      - Recordings
      summary: Update the status of a recording, for example to update how much time the user has watched.
      operationId: putRecordingRequest
      parameters:
        - in: path
          name: user_recordings_id
          description: The id of the user recordings
          schema:
            type: string
          example: cdf5b4f7-236c-4a3c-b848-9223ed816a0c
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/UserRecordingEntity.yml#/UserRecordingEntity"

      responses:
        204:
          description: |
            The resource was updated successfully, no response body is needed

    delete:
      tags:
      - Recordings
      summary: Delete an existing recording or cancel a specific scheduled recording
      description: >-
        Use this endpoint to cancel a scheduled recording.  To cancel a series of scheduled recordings you should delete the recording request.
        If you use this endpoint on an existing recording then the recording is deleted.
      operationId: deleteUserRecording
      parameters:
        - in: path
          name: user_recordings_id
          description: The id of the recording
          schema:
            type: string
          example: cdf5b4f7-236c-4a3c-b848-9223ed816a0c
      responses:
        '204':
          description: |
            The resource was deleted successfully

# ------------------------------------------------------------------------------------------------------------------------------------------------

  /user_recordings/bulk_delete_request:
    post:
      tags:
      - Recordings
      summary: Create a deletion request that specifies a number of records that need to be deleted.  Only 50 recordings should be included per request
      description: >-
        Create a deletion request that specifies a number of records that need to be deleted.
        Only 50 recordings should be included per request and higher amounts should be made as simultaneous asynchronous calls.
        We expect the client to limit the UI to allow the user to delete a maximum of 250 records at a time (5 simultaneous calls)
        This is designed to keep our response times within our target.
      operationId: postDeletionRequest
      parameters:
        - in: path
          name: user_id
          description: The id of the user
          schema:
            type: string
          example: cdf5b4f7-236c-4a3c-b848-9223ed816a0c
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                data:
                  type: object
                  properties:
                    type:
                      type: string
                      example: BulkDeleteRequestEntity
                    attributes:
                      $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/BulkDeleteRequestEntity.yml#/BulkDeleteRequestEntity"
      responses:
        201:
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                required:
                - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      required:
                      - type
                      - id
                      properties:
                        type:
                          type: string
                          example: UserRecordingRequest
                        id:
                          type: string
                          description: "The id of the entity that was created"
                          example: "a78b7d04-9821-4311-b375-3a5a29e00317"
                        attributes:
                          $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/BulkDeleteRequestEntity.yml#/BulkDeleteRequestEntity"


# -------------------------------------------------------------------------------------------------------------------------------------------------
#  RECORDING GROUPS
# -------------------------------------------------------------------------------------------------------------------------------------------------

  /users/{user_id}/user_recordings/recording_groups:
    get:
      tags:
        - Recording Groups
      summary: Returns a list of recording groups for the user.  This will be every tag that is associated with any of their recordings.
      operationId: getRecordingGroups
      parameters:
        - in: path
          name: user_id
          description: The user id
          schema:
            type: string
          example: 34d8a79d-d54a-4229-b560-572a65113e23
        - in: query
          name: language
          required: false
          description: >-
            The PK of the language to use, which will be a 3 character ISO 639-2 string (e.g.: fin).
            If this is omitted the browser 'Accept-Language' will be used if it is available, and otherwise the system defined default.
            If the requested language is not available then the system will return translations in order of the system defined preferences
          schema:
            type: string
        - in: query
          name: page_number
          required: false
          description: >
            The page number (100 results per page) of results to retrieve.
            If this parameter is ommitted then it is assumed to be 1 (not zero based, 1 means the first page)
          schema:
            type: integer
      responses:
        '200':
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                required:
                - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      required:
                      - type
                      - id
                      properties:
                        type:
                          type: string
                          example: RecordingGroup
                        id:
                          type: string
                          example: ad0e718f-d1dc-4e67-81f9-8ff9a09490cd
                          description: >-
                            The id of the request entity
                        attributes:
                          $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/RecordingGroupEntity.yml#/RecordingGroupEntity"

  /recording_groups/{recording_group_id}/recordings:
    get:
      tags:
      - Recording Groups
      summary: Get a list of recordings that are in a recording group defined by the selected tag
      operationId: getRecordingsInGroup
      parameters:
        - in: path
          name: recording_group_id
          description: The id of the recording tag
          schema:
            type: string
          example: ad0e718f-d1dc-4e67-81f9-8ff9a09490cd
        - in: query
          name: page_number
          required: false
          description: >
            The page number (500 results per page) of results to retrieve.  If this parameter is ommitted then it is assumed to be 1 (not zero based, 1 means the first page)
          schema:
            type: integer
      responses:
        '200':
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                required:
                - data
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      required:
                      - type
                      - id
                      properties:
                        type:
                          type: string
                          example: UserRecording
                        id:
                          type: string
                          example: d88a87f7-c636-4bcd-83b7-33e782480754
                          description: >-
                            The id of the request entity
                        attributes:
                          $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/UserRecordingEntity.yml#/UserRecordingEntity"



# -------------------------------------------------------------------------------------------------------------------------------------------------
# LEGACY SUPPORT
# -------------------------------------------------------------------------------------------------------------------------------------------------

  /user_recordings/{epg_id}/{continuous}:
    patch:
      tags:
      - Legacy support
      summary: (Deprecated) Update one or more attributes of an existing entity
      description: >-
        This can be used, for example, to reset the amount of time that a recording has been watched.
        Deprecated in favour of PATCH /user/{user_id}/user_recordings/{user_recordings_id}
      operationId: modifyRecordings
      parameters:
        - in: path
          name: user_id
          description: The user id to obtain recordings for
          required: true
          schema:
            type: string
        - in: path
          name: epg_id
          description: The epg id to obtain recordings for
          required: true
          schema:
            type: string
        - in: path
          name: continuous
          description: "The integer value of the continuous flag"
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        description: >-
          The Recording entity to modify.  Note that you only have to provide the attributes that you want to change (this is a PATCH request) and that you cannot
          change the time that the recording expires.
        required: true
        content:
          application/json:
            schema:
              type: "object"
              properties:
                data:
                  type: object
                  properties:
                    id:
                      type: integer
                    type:
                      type: string
                    attributes:
                      $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/UserRecordingEntity.yml#/UserRecordingEntity"

      responses:
        '200':
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  data:
                    type: object
                    properties:
                      type:
                        type: string
                        description: "This will be a UserRecording entity"
                        example: UserRecording
                      id:
                        type: string
                        example: '{"user_id":1,"epg_id":749,"continuous":0}'
                      attributes:
                        $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/UserRecordingEntity.yml#/UserRecordingEntity"

        '400':
          description: Standard error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/General/ErrorEntity.yml#/Error"

# -------------------------------------------------------------------------------------------------------------------------------------------------

  /user/{user_id}/previously_started_user_recordings:
    get:
      tags:
      - Legacy support
      summary: This endpoint will be deprecated soon and it is not recommended to build new systems using it.
      description: >-
        This endpoint will be deprecated soon and it is not recommended to build new systems using it.
        Note: Many of the keys in the recording entity are not mandatory and only the mandatory keys can be relied upon.
      operationId: "getStartedRecordings"
      parameters:
        - in: query
          name: maxItems
          description: How many items must be returned.  Valid values are in the set [20, 50, 100].
          required: true
          schema:
            type: integer
        - in: path
          name: user_id
          description: The user id to obtain recordings for
          required: true
          schema:
            type: integer
            format: "int64"

      responses:
        '200':
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        example: "https:\/\/boox.fi\/api\/recordings\/v1\/user\/1\/recording?sort_field=name&sort_direction=DESC&page=2"
                      first:
                        type: string
                        description: "The fully qualified url of the first page in the collection"
                        example: "https:\/\/boox.fi\/api\/recordings\/v1\/user\/1\/recording?sort_field=name&sort_direction=DESC&page=1"
                      last:
                        type: string
                        description: "The fully qualified url of the last page in the collection"
                        example: "https:\/\/boox.fi\/api\/recordings\/v1\/user\/1\/recording?sort_field=name&sort_direction=DESC&page=4"
                      next:
                        type: string
                        description: "The fully qualified url of the next page of data in the collection"
                        example: "https:\/\/boox.fi\/api\/recordings\/v1\/user\/1\/recording?sort_field=name&sort_direction=DESC&page=3"
                      prev:
                        type: string
                        description: "The fully qualified url of the prev page of data in the collection"
                        example: "https:\/\/boox.fi\/api\/recordings\/v1\/user\/1\/recording?sort_field=name&sort_direction=DESC&page=1"
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          description: This will be a UserRecording entity
                          example: UserRecording
                        id:
                          type: integer
                          format: int64
                          description: The id of the entity being referenced
                          example: '{"user_id":1,"epg_id":749,"continuous":0}'
                        attributes:
                          $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/UserRecordings/UserRecordingEntity.yml#/UserRecordingEntity"
                        relationships:
                          type: object
                          properties:
                            recording:
                              type: array
                              items:
                                type: object
                                properties:
                                  links:
                                    type: object
                                    properties:
                                      self:
                                        type: string
                                      stream:
                                        type: string
                                  data:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                        example: Recording
                                      id:
                                        type: integer
                                        example: 123
                                      attributes:
                                        type: object
                                        properties:
                                          status:
                                            type: string
                                            example: "deployed"
                                          stream:
                                            type: object
                                            properties:
                                              bitrate:
                                                type: string
                                              type:
                                                type: string
                                              protocol:
                                                type: string
                            epg:
                              type: object
                              properties:
                                links:
                                  type: object
                                  properties:
                                    self:
                                      type: string
                                      example: "<domain>/api/v3/user/<userEmail>/epg/<programUId>"
                                      description: "EPG V3 - Program Details"
                                    thumbnail:
                                      type: string
                                      description: "The thumbnail url"
                                data:
                                  $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/Schedule/EPGEntity.yml#/EPGEntity"

        '400':
          description: Standard error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      $ref: "https://raw.githubusercontent.com/booxmedialtd/api-documentation/master/rest/snippets/General/ErrorEntity.yml#/Error"

# -------------------------------------------------------------------------------------------------------------------------------------------------
