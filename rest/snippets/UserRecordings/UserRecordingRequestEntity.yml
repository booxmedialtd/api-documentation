UserRecordingRequestEntity:
  type: object
  required:
  - original_broadcast_slot
  - recording_location
  properties:

    original_broadcast_slot:
        type: object
        required:
        - title
        description: "We store this as a value object in this entity rather than relating to the BroadcastSlot because the remote entity is not guaranteed to be immutable"
        properties:
          epg_id:
            type: integer
            example: 1337
            description: >
              Support for this field will be dropped when we migrate to using recording tags.
          channel_id:
            type: string
            example: 8baec70c-135d-43bb-8f96-7c4b13937f1a
          time_start:
            type: integer
            example: 1516798894
          title:
            type: string
            example: "Die Hard"

    serial_recording:
      type: object
      properties:
        record_series_of_episodes:
          type: boolean
          example: true
          description: >
            This will be 'true' for recording series, or other situations where more than one user recording is expected to be made.
            If the field is omitted from a POST request it will default to `false`
        maximum_episodes_to_record:
          type: integer
          example: 10
          description: >
            How many episodes of the program to record.
            If the field is omitted from a POST request it will default to 0
        matching_method:
          type: string
          enum: [title,series_id]
          example: "title"
          description: >
            What method of matching this recording was requested with.
            In the future "tagging" will become an option.
            If the field is omitted from a POST request it will default to "title"
        series_id:
          type: string
          example: "d13h4rd"
          description: >
            If the request is for a series to be recorded then this will be its identifier.
            If the field is omitted from a POST request it will default to null.

    recording_location:
      type: string
      example: "cloud"
      description: "Where the user wants to make the recording, either of these options are accepted [cloud|stb|foreign]"
      enum: [cloud,stb,foreign]

    requested_at_timestamp:
      type: integer
      example: 1541685487
      description: >
        The timestamp at which the request was made.
        This field cannot be supplied in POST or PATCH requests

    status:
      type: string
      description: >
        One of [NEW | RECORDING | RECORDING_FAILED | FAILED_PERMANENTLY | WAITING | COMPLETE].
        This field cannot be supplied in POST requests, but may be altered with PATCH
      example: WAITING
      enum: [NEW,RECORDING,RECORDING_FAILED,FAILED_PERMANENTLY,WAITING,COMPLETE]

    relationships:
      type: array
      items:
        oneOf:
        - type: object
          required:
          - id
          - type
          properties:
            id:
              type: string
              description: The identifier of the entity
              example: ad600a15-bddf-44d8-b1a2-5ae9b3b311da
            type:
              type: string
              description: The type of entity being included in the response body
              example: "Program"
        - type: object
          required:
          - id
          - type
          properties:
            id:
              type: string
              description: The identifier of the entity
              example: abdf8785-cb23-445b-946f-69e8770500a1
            type:
              type: string
              description: The type of entity being included in the response body
              example: "ClassificationTag"
